<% content_for :title, t('navigation.home') %>

<%= render partial: "featured_series", locals: { series: @featured_series } if @featured_series.present? %>

<div class="container mx-auto">
  <% if @top_series.any? %>
    <section class="mb-4 sm:mb-6 lg:mb-8">
      <div class="mobile-card">
        <div class="flex items-center justify-between mb-3 sm:mb-4 lg:mb-6">
          <h2 class="text-2xl font-bold"><%= t('navigation.series') %></h2>
          <%= link_to series_index_path, class: "btn btn-outline btn-xs sm:btn-sm" do %>
            عرض الكل
            <%= icon "arrow-left", class: "size-3 sm:size-4" %>
          <% end %>
        </div>
          
          <div class="space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-3 mobile-gap">
            <% @top_series.each do |series| %>
              <div class="border border-background-contrast rounded-lg bg-card hover:shadow-md transition-shadow">
                <%= render partial: "series/series_card", locals: { series: series } %>
              </div>
            <% end %>
          </div>
        </div>
      </section>
    <% end %>

      <% if @top_lectures.any? %>
        <section class="mb-4 sm:mb-6 lg:mb-8">
          <div class="mobile-card">
            <div class="flex items-center justify-between mb-3 sm:mb-4 lg:mb-6">
              <h2 class="text-2xl font-bold"><%= t('navigation.lectures') %></h2>
              <%= link_to lectures_path, class: "btn btn-outline btn-xs sm:btn-sm" do %>
                عرض الكل
                <%= icon "arrow-left", class: "size-3 sm:size-4" %>
              <% end %>
            </div>
            
            <div class="bg-gray-50 rounded-lg shadow-sm overflow-hidden">
              <div class="divide-y divide-gray-100">
                <% @top_lectures.each_with_index do |lecture, index| %>
                  <%= render "shared/playlist_card", resource: lecture, with_icon: false, index: index %>
                <% end %>
              </div>
            </div>
          </div>
        </section>
      <% end %>

</div>
