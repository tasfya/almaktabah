<%= form_with url: play_path(resource_type: resource.class.name.downcase, id: resource.id), 
                local: false, 
                data: { 
                  turbo_stream: true,
                  player_id: dom_id(resource) + "_player_content",
                  currently_playing: "false",
                  controller: "play-button",
                  action: "submit->play-button#handleSubmit"
                } do |form| %>
  <%= form.button type: "submit",
                  class: klass,
                  data: { 
                    play_button_target: "button",
                    disable_with: "Loading..."
                  } do %>
    <span data-play-button-target="playIcon">
      <%= icon("play", class: "size-3 sm:size-5") %>
    </span>
    <span data-play-button-target="pauseIcon" class="hidden">
      <%= icon("pause", class: "size-3 sm:size-5") %>
    </span>
    <span data-play-button-target="loadingIcon" class="hidden">
      <%= icon("arrow-path", class: "size-3 sm:size-5 animate-spin") %>
    </span>
  <% end %>
  
  <template data-play-button-target="template">
    <div class="bg-white border-t border-gray-200 shadow-lg p-4">
      <div class="flex items-center justify-center space-x-3">
        <%= icon("arrow-path", class: "size-3 sm:size-5 animate-spin text-gray-600") %>
        <span class="text-gray-700"><%= t("buttons.loading_audio") %></span>
      </div>
    </div>
  </template>
<% end %>
