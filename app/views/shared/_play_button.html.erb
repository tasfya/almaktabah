<%= form_with url: play_path(resource_type: resource.class.name.downcase, id: resource.id), 
                local: false, 
                data: { 
                  turbo_stream: true,
                  controller: "play-button",
                  action: "submit->play-button#handleSubmit"
                } do |form| %>
  <%= form.button type: "submit",
                  class: klass,
                  data: { 
                    play_button_target: "button",
                    disable_with: "Loading..."
                  } do %>
    <% if local_assigns[:custom_content].present? %>
      <%= custom_content %>
    <% else %>
      <span data-play-button-target="icon">
        <%= icon("play", class: icon_class) %>
      </span>
      <span data-play-button-target="loadingIcon" class="hidden">
        <%= icon("arrow-path", class: "#{icon_class} animate-spin") %>
      </span>
    <% end %>
  <% end %>
  
  <template data-play-button-target="template">
    <div class="bg-white border-t border-gray-200 shadow-lg p-4">
      <div class="flex items-center justify-center space-x-3">
        <%= icon("arrow-path", class: "size-3 sm:size-5 animate-spin text-gray-600") %>
        <span class="text-gray-700"><%= t("buttons.loading_audio") %></span>
      </div>
    </div>
  </template>
<% end %>
