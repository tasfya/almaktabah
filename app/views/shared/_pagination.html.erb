<% if defined?(@pagy) && @pagy %>
  <div class="flex items-center justify-between border-t border-base-300 px-4 py-3 sm:px-6 mt-8">
    <div class="flex flex-1 justify-between sm:hidden">
      <% ['prev', 'next'].each do |dir| %>
        <% page = @pagy.public_send(dir) %>
        <% label = t("buttons.#{dir}") %>
        <% if page %>
          <%= link_to label, pagy_url_for(@pagy, page), class: "btn btn-sm join-item" %>
        <% else %>
          <span class="btn btn-sm join-item btn-disabled"><%= label %></span>
        <% end %>
      <% end %>
    </div>
    <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
      <p class="text-sm">
        <%= t('common.pagination_showing', from: @pagy.from, to: @pagy.to, count: @pagy.count) %>
      </p>
      <nav class="join" aria-label="Pagination">
        <% if @pagy.prev %>
          <%= link_to pagy_url_for(@pagy, @pagy.prev), class: "btn btn-sm join-item" do %>
            <span class="sr-only"><%= t('buttons.previous') %></span>
            ‹
          <% end %>
        <% else %>
          <span class="btn btn-sm join-item btn-disabled" aria-disabled="true">
            ‹
            <span class="sr-only"><%= t('buttons.previous') %></span>
          </span>
        <% end %>
        <% @pagy.series.each do |item| %>
          <% if item.is_a?(Integer) %>
            <% if item == @pagy.page %>
              <span aria-current="page" class="btn btn-sm join-item btn-active"><%= item %></span>
            <% else %>
              <%= link_to item, pagy_url_for(@pagy, item), class: "btn btn-sm join-item" %>
            <% end %>
          <% else %>
            <span class="btn btn-sm join-item btn-disabled"><%= item %></span>
          <% end %>
        <% end %>
        <% if @pagy.next %>
          <%= link_to pagy_url_for(@pagy, @pagy.next), class: "btn btn-sm join-item" do %>
            <span class="sr-only"><%= t('buttons.next') %></span>
            ›
          <% end %>
        <% else %>
          <span class="btn btn-sm join-item btn-disabled" aria-disabled="true">
            ›
            <span class="sr-only"><%= t('buttons.next') %></span>
          </span>
        <% end %>
      </nav>
    </div>
  </div>
<% end %>
