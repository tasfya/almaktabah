<header class="bg-background shadow-sm sticky top-0 left-0 right-0 z-50" data-controller="navigation" data-action="click@window->navigation#clickOutside">
  <div class="bg-navbar text-navbar-contrast ">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-(--header-height)">
      <%= link_to root_path, class: "flex items-center gap-3 flex-row-reverse h-auto" do %>
        <img src="<%= @logo_url %>" alt="<%= t('site.name') %> Logo" width="200" height="200" class="w-[200px] h-[150px] object-contain" />
      <% end %>
      <div class="hidden md:flex flex-row-reverse gap-2 items-center w-full flex-1 mr-auto">
        <div class="hidden md:flex items-center gap-1">
          <%= link_to site_info[:youtube_url], class: "btn btn-ghost btn-sm p-1" do %>
            <%= icon "youtube", library: "lucide", class: "size-5" %>
          <% end %>
          <%= link_to site_info[:twitter_url], class: "btn btn-ghost btn-sm p-1" do %>
            <%= icon "twitter", library: "lucide", class: "size-5" %>
          <% end %>
        </div>
        <%= link_to search_path, class: "btn btn-secondary btn-sm" do %>
          <%= icon "magnifying-glass", class: "size-4" %>
          <span><%= t('buttons.search_button') %></span>
        <% end %>
      </div>
      <div class="flex md:hidden items-center flex-row-reverse gap-1">
        <button
          type="button"
          data-navigation-target="menuButton"
          data-action="click->navigation#toggleMobileMenu"
          class="btn btn-ghost focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-primary"
          aria-controls="mobile-menu"
          aria-expanded="false"
          aria-label="<%= t('buttons.menu', default: 'Menu') %>">
          <%= icon "bars-3", class: "size-5"%>
        </button>
      </div>
    </div>
  </div>
  <nav class="hidden md:flex border-t py-3">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex gap-6 text-sm">
      <%= link_to t('navigation.home'), root_path, class: "secondary-link" %>
      <%= link_to t('navigation.scientific_series'), series_index_path, class: "secondary-link" %>
      <%= link_to t('navigation.lectures'), lectures_path, class: "secondary-link" %>
      <%= link_to t('navigation.books'), books_path, class: "secondary-link" %>
      <%= link_to t('navigation.news'), news_index_path, class: "secondary-link" %>
      <%= link_to t('navigation.fatwas'), fatwas_path, class: "secondary-link" %>
      <%= link_to t('navigation.benefits'), benefits_path, class: "secondary-link" %>
      <%= link_to t('navigation.about_sheikh'), about_path, class: "secondary-link" %>
    </div>
  </nav>
  <!-- Overlay for mobile menu -->
  <div
    data-navigation-target="overlay"
    class="fixed top-(--header-height) left-0 right-0 bottom-0 bg-black/50 backdrop-blur-sm hidden z-40 pointer-events-auto"
    data-action="click->navigation#clickOutside">
  </div>
  <div
    id="mobile-menu"
    data-navigation-target="menu"
    class="hidden md:hidden fixed top-(--header-height) left-0 right-0 bg-white shadow-lg border-t z-50"
    role="navigation"
    aria-label="<%= t('navigation.mobile_menu', default: 'Mobile menu') %>">
    <div class="px-4 py-2 space-y-2">
      <%= link_to search_path, class: "btn btn-secondary btn-sm" do %>
        <%= icon "magnifying-glass", class: "size-4" %>
        <span><%= t('buttons.search_button') %></span>
      <% end %>
      <%= link_to t('navigation.home'), root_path, class: "block py-2 link" %>
      <%= link_to t('navigation.scientific_series'), series_index_path, class: "block py-2 link" %>
      <%= link_to t('navigation.lectures'), lectures_path, class: "block py-2 link" %>
      <%= link_to t('navigation.books'), books_path, class: "block py-2 link" %>
      <%= link_to t('navigation.news'), news_index_path, class: "block py-2 link" %>
      <%= link_to t('navigation.fatwas'), fatwas_path, class: "block py-2 link" %>
      <%= link_to t('navigation.benefits'), benefits_path, class: "block py-2 link" %>
      <%= link_to t('navigation.about_sheikh'), about_path, class: "block py-2 link" %>
    </div>
  </div>
</header>
