<% content_for :title, @scholar.full_name %>
<%= json_ld_tag(scholar_json_ld(@scholar)) %>
<article class="bg-white border border-base-300 rounded-lg shadow-md p-8">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
    <div class="md:col-span-1 flex justify-center">
      <div class="w-48 h-48 bg-gray-200 rounded-full flex items-center justify-center shadow-md">
        <svg class="w-24 h-24 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
        </svg>
      </div>
    </div>
    <div class="md:col-span-2">
      <header>
        <h1 class="text-3xl font-bold mb-4">
          <%= @scholar.full_name %>
        </h1>
        <% if @scholar.bio.present? %>
          <section class="mb-8">
            <h2 class="text-2xl font-bold mb-4"><%= t('.about_scholar') %></h2>
            <div class="prose prose-lg max-w-none">
              <%= @scholar.bio %>
            </div>
          </section>
        <% end %>
      </header>
    </div>
  </div>
  <% if @lectures.any? %>
    <section class="mb-8">
      <h2 class="text-2xl font-bold mb-6">
        <%= t(".lectures_by_scholar")%>
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% @lectures.each do |lecture| %>
          <div class="card card-border bg-base-100 shadow-sm hover:shadow-md transition-shadow">
            <div class="card-body">
              <h3 class="card-title">
                <%= link_to lecture.title, lecture_path(lecture, kind: lecture.kind, scholar_id: @scholar.to_param), class: "hover:text-primary-500" %>
              </h3>
              <% if lecture.description.present? %>
                <p class="text-sm">
                  <%= truncate(lecture.description, length: 100) %>
                </p>
              <% end %>
              <div class="card-actions justify-between">
                <% if lecture.category.present? %>
                  <span class="badge badge-primary"><%= lecture.category %></span>
                <% end %>
                <% if lecture.published_at.present? %>
                  <span class="text-gray-500"><%= l lecture.published_at, format: :short %></span>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <% if @lectures.size >= 6 %>
        <div class="text-center mt-6">
          <%= link_to t('.view_all_lectures'), lectures_path(q: { scholar_id_eq: @scholar.id }), class: "btn btn-secondary" %>
        </div>
      <% end %>
    </section>
  <% end %>
  <% if @series.any? %>
    <section class="mb-8">
      <h2 class="text-2xl font-bold mb-6">
        <%= t(".series_by_scholar")%>
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% @series.each do |series| %>
          <div class="card card-border bg-base-100 shadow-sm hover:shadow-md transition-shadow">
            <div class="card-body">
              <h3 class="card-title">
                <%= link_to series.title, series_path(@scholar, series), class: "hover:text-primary-500" %>
              </h3>
              <% if series.description.present? %>
                <p class="text-sm">
                  <%= truncate(series.description, length: 100) %>
                </p>
              <% end %>
              <div class="card-actions justify-between">
                <% if series.category.present? %>
                  <span class="badge badge-primary"><%= truncate(series.category, length: 30) %></span>
                <% end %>
                <% if series.lessons.any? %>
                  <span class="text-gray-500"><%= t('.lessons_count', count: series.lessons.count) %></span>
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
      <% if @series.size >= 6 %>
        <div class="text-center mt-6">
          <%= link_to t('.view_all_series'), series_index_path(q: { scholar_id_eq: @scholar.id }), class: "btn btn-secondary" %>
        </div>
      <% end %>
    </section>
  <% end %>
</article>
