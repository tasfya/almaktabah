<%# Search Header Partial - Page title and results count (search form moved to navbar) %>
<% show_sidebar = local_assigns.fetch(:show_sidebar, true) %>
<div class="mb-6 flex items-center gap-3">
  <%# Mobile Filter Toggle Button - Hidden on desktop %>
  <% if show_sidebar %>
    <button
      data-filter-sidebar-target="toggle"
      data-action="click->filter-sidebar#toggle"
      class="btn btn-primary btn-outline btn-sm lg:hidden gap-2"
      aria-label="Toggle search filters">
      <%= icon "settings", library: "lucide", class: "size-4" %>
      <% active_filters_count = @search_filters&.dig(:scholars).to_a.count + @search_filters&.dig(:content_types).to_a.count %>
      <% if active_filters_count > 0 %>
        <div class="badge badge-primary badge-xs"><%= active_filters_count %></div>
      <% end %>
    </button>
  <% end %>
  <h1 class="text-2xl font-bold">
    <%= t("navigation.#{controller_name}") %>
    <% if @total_results.present? && @total_results > 0 %>
      <span class="text-base font-normal text-base-content/60">
        (<%= number_with_delimiter(@total_results) %>)
      </span>
    <% end %>
  </h1>
</div>
