<%# Search Results Partial - Results display logic and no results state %>
<%= turbo_frame_tag "search_results" do %>
  <% if @results.present? && @total_results > 0 %>
    <div class="space-y-8">
      <% @results.each do |model_name, hits| %>
        <% next unless hits.present? %>
        <%= render "search/search_section", model_name: model_name, hits: hits %>
      <% end %>
    </div>
  <% else %>
    <%# No Results State %>
    <div class="flex flex-col items-center justify-center py-12 text-center">
      <div class="mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-16 h-16 text-gray-400 mx-auto">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </div>
      <h3 class="text-xl font-semibold text-gray-900 mb-2">
        <%= t('search.index.no_results_title') %>
      </h3>
      <p class="text-gray-600 mb-6 max-w-md">
        <%= t('search.index.no_results_description') %>
      </p>
      <%# Clear Filters Button (if filters are active) %>
      <% if @search_filters[:scholars].present? || @search_filters[:content_types].present? || @query.present? %>
        <div class="flex flex-col sm:flex-row gap-3 justify-center">
          <% if @search_filters[:scholars].present? || @search_filters[:content_types].present? %>
            <%= link_to search_path(q: @query),
                class: "btn btn-outline" do %>
              <%= t('search.filters.clear_all') %>
            <% end %>
          <% end %>
          <% if @query.present? %>
            <%= link_to search_path,
                class: "btn btn-primary" do %>
              <%= t('search.new_search') %>
            <% end %>
          <% end %>
        </div>
      <% else %>
        <%# Search Suggestions %>
        <div class="bg-base-200 rounded-lg p-6 max-w-lg">
          <h4 class="font-semibold mb-3">
            <%= t('search.suggestions.title') %>
          </h4>
          <ul class="text-left space-y-2 text-sm">
            <li>• <%= t('search.suggestions.try_different') %></li>
            <li>• <%= t('search.suggestions.check_spelling') %></li>
            <li>• <%= t('search.suggestions.use_fewer') %></li>
            <li>• <%= t('search.suggestions.browse_content') %></li>
          </ul>
        </div>
      <% end %>
    </div>
  <% end %>
<% end %>
