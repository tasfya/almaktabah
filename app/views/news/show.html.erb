<% content_for :title, @news.title %>
<% content_for :description, @news.description.presence || @news.title %>
<% if @news.thumbnail.attached? %>
  <% content_for :image, url_for(@news.thumbnail) %>
<% end %>
<% content_for :structured_data do %>
  <script type="application/ld+json">
    <%= structured_data_for_news(@news) %>
  </script>
<% end %>
<div class="min-h-screen py-8">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 gap-8">
      <div class="lg:col-span-2">
        <article class="border border-base-300 rounded-lg shadow-md p-8">
          <header class="mb-8">
            <h1 class="text-3xl font-bold mb-4">
              <%= @news.title %>
            </h1>
          </header>
          <% if @news.thumbnail.present? %>
            <section class="mb-8">
              <div class="rounded-lg overflow-hidden">
                <%= image_tag @news.thumbnail, class: "w-full h-auto", alt: @news.title %>
              </div>
            </section>
          <% end %>
          <section class="mb-8">
            <% if @news.content.present? %>
              <div class="prose prose-lg max-w-none leading-relaxed ">
                <%= @news.content %>
              </div>
            <% else %>
              <div class=""><%= t(".will_be_available") %></div>
            <% end %>
          </section>
          <section class="mb-8">
            <div class="border-t border-base-300 pt-6">
              <h3 class="text-lg font-semibold  mb-4">
                <%= t('.share_news') %>
              </h3>
              <div class="flex items-center gap-4">
                <button class="btn btn-primary"
                        data-controller="share-trigger"
                        data-share-trigger-modal-id-value="news_share_modal"
                        data-action="click->share-trigger#open">
                  <%= icon "share", class: "size-4" %>
                  <%= t('buttons.share') %>
                </button>
              </div>
            </div>
          </section>
        </article>
      </div>
    </div>
  </div>
</div>
<%= render 'shared/share_modal',
    modal_id: 'news_share_modal',
    url: request.original_url,
    title: html_escape(@news.title),
    text: html_escape(@news.title) %>
