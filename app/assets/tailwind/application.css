@import 'tailwindcss';
@import './theme.css';

@utility container {
  margin-inline: auto;
  padding-inline: 1rem;
  @media (width >= theme(--breakpoint-sm)) {
    padding-inline: 2rem;
  }
  @media (width >= theme(--breakpoint-lg)) {
    padding-inline: 4rem;
  }
  @media (width >= theme(--breakpoint-xl)) {
    padding-inline: 5rem;
  }
  @media (width >= theme(--breakpoint-2xl)) {
    padding-inline: 6rem;
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-background-subtle, currentcolor);
  }

  input {
    color: var(--color-foreground);
  }
}

/* Custom component styles */
@utility btn {
  @apply px-4 py-2 rounded-xs w-full font-medium transition-colors duration-200 flex items-center justify-center gap-1;
}

@utility btn-primary {
  @apply bg-primary-900 text-background hover:bg-primary-600 cursor-pointer;
}

@utility btn-secondary {
  @apply bg-background text-foreground hover:bg-background-subtle border border-background-subtle cursor-pointer;
}

@utility btn-link {
  /* Link buttons use foreground color for text, with primary for hover */
  @apply w-fit text-foreground hover:text-primary-600 hover:underline cursor-pointer;
}

@utility btn-sm {
  @apply px-3 py-1.5 text-sm;
}

@utility badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

@utility badge-primary {
  /* Primary badge uses primary color for background, background for text */
  @apply bg-primary-900 text-background;
}

@utility badge-secondary {
  /* Secondary badge uses background-subtle for background, foreground for text */
  @apply bg-background-subtle text-foreground;
}

@utility badge-sm {
  @apply px-2 py-1 text-xs;
}

@utility card {
  @apply bg-background rounded-xs shadow-md border border-background-subtle;
}

@utility card-header {
  @apply p-6 border-b border-background-subtle;
}

@utility card-body {
  @apply p-6;
}

@utility card-footer {
  @apply p-6 border-t border-background-subtle;
}

@utility audio-player {
  @apply bg-background border-t border-background-subtle shadow-lg;
}

@utility audio-progress {
  /* Progress bar uses primary-500 as an accent */
  @apply h-1 bg-primary-500 transition-all duration-100;
}

@utility search-modal {
  backdrop-filter: blur(4px);
}

@utility flash-message {
  animation: slideInDown 0.3s ease-out;
}

/* Custom utility styles */
@utility text-balance {
  text-wrap: balance;
}

@utility rtl-space-x-reverse {
  & > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 1;
    margin-right: calc(var(--tw-space-x) * var(--tw-space-x-reverse));
    margin-left: calc(var(--tw-space-x) * calc(1 - var(--tw-space-x-reverse)));
  }
}

/* Custom base styles */
@layer base {
  html {
    font-family: var(--font-sans);
  }

  body {
    direction: rtl;
    text-align: right;
  }

  .container {
    margin-inline: auto;
    padding-inline: 1rem;
    @media (width >= theme(--breakpoint-sm)) {
      padding-inline: 2rem;
    }
    @media (width >= theme(--breakpoint-lg)) {
      padding-inline: 4rem;
    }
    @media (width >= theme(--breakpoint-xl)) {
      padding-inline: 5rem;
    }
    @media (width >= theme(--breakpoint-2xl)) {
      padding-inline: 6rem;
    }
  }
}

/* Custom keyframes */
@layer utilities {
  @keyframes slideInDown {
    from {
      transform: translateY(-100%);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}