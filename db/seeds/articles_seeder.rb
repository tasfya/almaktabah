require_relative './base'

module Seeds
  class ArticlesSeeder < Base
    SAMPLE_ARTICLES = [
      {
        title: "ÙØ¶Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø´Ø±Ø¹ÙŠ",
        content: <<~CONTENT
          Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù‚Ø±Ø¨Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰ØŒ ÙˆÙ‚Ø¯ Ø­Ø« Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ÙÙŠ Ø£Ø­Ø§Ø¯ÙŠØ« ÙƒØ«ÙŠØ±Ø©.

          Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: "Ù…Ù† Ø³Ù„Ùƒ Ø·Ø±ÙŠÙ‚Ø§ ÙŠÙ„ØªÙ…Ø³ ÙÙŠÙ‡ Ø¹Ù„Ù…Ø§ Ø³Ù‡Ù„ Ø§Ù„Ù„Ù‡ Ù„Ù‡ Ø¨Ù‡ Ø·Ø±ÙŠÙ‚Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø©" Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù….

          ÙˆØ§Ù„Ø¹Ù„Ù… Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù‡Ùˆ Ù…ÙŠØ±Ø§Ø« Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ØŒ ÙˆØ·Ø§Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… ÙÙŠ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù…Ù„Ø§Ø¦ÙƒØ© ØªØ¶Ø¹ Ø£Ø¬Ù†Ø­ØªÙ‡Ø§ Ø±Ø¶Ø§ Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù….

          ÙÙŠÙ†Ø¨ØºÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ù„Ù… Ø£Ù† ÙŠØ­Ø±Øµ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù…Ù† Ù…ØµØ§Ø¯Ø±Ù‡ Ø§Ù„ØµØ­ÙŠØ­Ø©ØŒ ÙˆØ£Ù† ÙŠØªØ¹Ù„Ù… Ø¹Ù„Ù‰ ÙŠØ¯ Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø§Ù†ÙŠÙŠÙ†.
        CONTENT
      },
      {
        title: "Ø£Ù‡Ù…ÙŠØ© Ø§Ù„ØªÙˆØ­ÙŠØ¯ ÙÙŠ Ø­ÙŠØ§Ø© Ø§Ù„Ù…Ø³Ù„Ù…",
        content: <<~CONTENT
          Ø§Ù„ØªÙˆØ­ÙŠØ¯ Ù‡Ùˆ Ø£Ø³Ø§Ø³ Ø§Ù„Ø¯ÙŠÙ† ÙˆØ£ØµÙ„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŒ ÙˆÙ‡Ùˆ Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰ Ø¨Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø© ÙˆØ§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„ØµÙØ§Øª.

          Ù‚Ø§Ù„ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰: "ÙˆÙ…Ø§ Ø®Ù„Ù‚Øª Ø§Ù„Ø¬Ù† ÙˆØ§Ù„Ø¥Ù†Ø³ Ø¥Ù„Ø§ Ù„ÙŠØ¹Ø¨Ø¯ÙˆÙ†" [Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª: 56].

          ÙˆØ§Ù„ØªÙˆØ­ÙŠØ¯ Ø«Ù„Ø§Ø«Ø© Ø£Ù†ÙˆØ§Ø¹:
          1. ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø±Ø¨ÙˆØ¨ÙŠØ©: Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ø£Ù† Ø§Ù„Ù„Ù‡ Ù‡Ùˆ Ø§Ù„Ø®Ø§Ù„Ù‚ Ø§Ù„Ø±Ø§Ø²Ù‚ Ø§Ù„Ù…Ø¯Ø¨Ø±.
          2. ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø£Ù„ÙˆÙ‡ÙŠØ©: Ø¥ÙØ±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø©.
          3. ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ù„ØµÙØ§Øª: Ø§Ù„Ø¥ÙŠÙ…Ø§Ù† Ø¨Ù…Ø§ ÙˆØµÙ Ø§Ù„Ù„Ù‡ Ø¨Ù‡ Ù†ÙØ³Ù‡ ÙÙŠ ÙƒØªØ§Ø¨Ù‡ Ø£Ùˆ ÙˆØµÙÙ‡ Ø¨Ù‡ Ø±Ø³ÙˆÙ„Ù‡.

          ÙˆØ§Ù„ØªÙˆØ­ÙŠØ¯ Ù‡Ùˆ Ø§Ù„Ø°ÙŠ Ø¨Ø¹Ø« Ø§Ù„Ù„Ù‡ Ø¨Ù‡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ù„ Ù…Ù† Ø£ÙˆÙ„Ù‡Ù… Ø¥Ù„Ù‰ Ø¢Ø®Ø±Ù‡Ù….
        CONTENT
      },
      {
        title: "Ø¢Ø¯Ø§Ø¨ Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù…",
        content: <<~CONTENT
          Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… Ø¢Ø¯Ø§Ø¨ ÙŠÙ†Ø¨ØºÙŠ Ø£Ù† ÙŠØªØ­Ù„Ù‰ Ø¨Ù‡Ø§ Ø­ØªÙ‰ ÙŠÙ†ØªÙØ¹ Ø¨Ø¹Ù„Ù…Ù‡ ÙˆÙŠÙ†ÙØ¹ Ø§Ù„Ù†Ø§Ø³.

          Ù…Ù† Ø£Ù‡Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¢Ø¯Ø§Ø¨:
          - Ø§Ù„Ø¥Ø®Ù„Ø§Øµ Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù….
          - Ø§Ù„ØªÙˆØ§Ø¶Ø¹ Ù„Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø¹Ù„Ù…Ø§Ø¡.
          - Ø§Ù„ØµØ¨Ø± Ø¹Ù„Ù‰ Ù…Ø´Ù‚Ø© Ø§Ù„Ø·Ù„Ø¨.
          - Ø§Ù„Ø¹Ù…Ù„ Ø¨Ù…Ø§ ÙŠØªØ¹Ù„Ù…Ù‡.
          - Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ø´ÙŠØ® ÙˆØªÙˆÙ‚ÙŠØ±Ù‡.
          - Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© ÙˆØ§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø©.

          Ù‚Ø§Ù„ Ø§Ù„Ø¥Ù…Ø§Ù… Ø§Ù„Ø´Ø§ÙØ¹ÙŠ Ø±Ø­Ù…Ù‡ Ø§Ù„Ù„Ù‡: "Ù…Ù† Ù„Ù… ÙŠØµØ¨Ø± Ø¹Ù„Ù‰ Ø°Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø³Ø§Ø¹Ø©ØŒ Ø¨Ù‚ÙŠ ÙÙŠ Ø°Ù„ Ø§Ù„Ø¬Ù‡Ù„ Ø£Ø¨Ø¯Ø§".
        CONTENT
      },
      {
        title: "ÙØ¶Ù„ Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…",
        content: <<~CONTENT
          Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ£Ø¬Ù„Ù‡Ø§ØŒ ÙˆÙ‚Ø¯ Ø£Ù…Ø± Ø§Ù„Ù„Ù‡ Ø¨Ù‡Ø§ ÙÙŠ ÙƒØªØ§Ø¨Ù‡ Ø§Ù„ÙƒØ±ÙŠÙ….

          Ù‚Ø§Ù„ ØªØ¹Ø§Ù„Ù‰: "Ø¥Ù† Ø§Ù„Ù„Ù‡ ÙˆÙ…Ù„Ø§Ø¦ÙƒØªÙ‡ ÙŠØµÙ„ÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ÙŠØ§ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ø°ÙŠÙ† Ø¢Ù…Ù†ÙˆØ§ ØµÙ„ÙˆØ§ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ÙˆØ§ ØªØ³Ù„ÙŠÙ…Ø§" [Ø§Ù„Ø£Ø­Ø²Ø§Ø¨: 56].

          ÙˆÙ…Ù† ÙØ¶Ø§Ø¦Ù„ Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:
          - Ø£Ù† Ø§Ù„Ù„Ù‡ ÙŠØµÙ„ÙŠ Ø¹Ù„Ù‰ Ù…Ù† ØµÙ„Ù‰ Ø¹Ù„ÙŠÙ‡ Ø¹Ø´Ø±Ø§.
          - Ø£Ù†Ù‡Ø§ Ø³Ø¨Ø¨ Ù„Ø´ÙØ§Ø¹Ø© Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù….
          - Ø£Ù†Ù‡Ø§ Ø³Ø¨Ø¨ Ù„Ù‚Ø±Ø¨ Ø§Ù„Ø¹Ø¨Ø¯ Ù…Ù† Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©.
          - Ø£Ù†Ù‡Ø§ Ø³Ø¨Ø¨ Ù„Ù…ØºÙØ±Ø© Ø§Ù„Ø°Ù†ÙˆØ¨.
        CONTENT
      },
      {
        title: "ÙˆØ¬ÙˆØ¨ Ø·Ø§Ø¹Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ø¨Ø§Ù„Ù…Ø¹Ø±ÙˆÙ",
        content: <<~CONTENT
          Ø·Ø§Ø¹Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ø¨Ø§Ù„Ù…Ø¹Ø±ÙˆÙ ÙˆØ§Ø¬Ø¨Ø© Ø´Ø±Ø¹Ø§ØŒ ÙˆÙ‡ÙŠ Ù…Ù† Ø£ØµÙˆÙ„ Ø£Ù‡Ù„ Ø§Ù„Ø³Ù†Ø© ÙˆØ§Ù„Ø¬Ù…Ø§Ø¹Ø©.

          Ù‚Ø§Ù„ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰: "ÙŠØ§ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ø°ÙŠÙ† Ø¢Ù…Ù†ÙˆØ§ Ø£Ø·ÙŠØ¹ÙˆØ§ Ø§Ù„Ù„Ù‡ ÙˆØ£Ø·ÙŠØ¹ÙˆØ§ Ø§Ù„Ø±Ø³ÙˆÙ„ ÙˆØ£ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ù…Ù†ÙƒÙ…" [Ø§Ù„Ù†Ø³Ø§Ø¡: 59].

          ÙˆÙ‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…: "Ù…Ù† Ø£Ø·Ø§Ø¹Ù†ÙŠ ÙÙ‚Ø¯ Ø£Ø·Ø§Ø¹ Ø§Ù„Ù„Ù‡ØŒ ÙˆÙ…Ù† Ø¹ØµØ§Ù†ÙŠ ÙÙ‚Ø¯ Ø¹ØµÙ‰ Ø§Ù„Ù„Ù‡ØŒ ÙˆÙ…Ù† Ø£Ø·Ø§Ø¹ Ø£Ù…ÙŠØ±ÙŠ ÙÙ‚Ø¯ Ø£Ø·Ø§Ø¹Ù†ÙŠØŒ ÙˆÙ…Ù† Ø¹ØµÙ‰ Ø£Ù…ÙŠØ±ÙŠ ÙÙ‚Ø¯ Ø¹ØµØ§Ù†ÙŠ" Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡.

          ÙˆØ§Ù„Ø·Ø§Ø¹Ø© ØªÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø¹Ø±ÙˆÙØŒ ÙÙ„Ø§ Ø·Ø§Ø¹Ø© Ù„Ù…Ø®Ù„ÙˆÙ‚ ÙÙŠ Ù…Ø¹ØµÙŠØ© Ø§Ù„Ø®Ø§Ù„Ù‚.
        CONTENT
      }
    ].freeze

    def self.seed(from: nil, domain_id: nil)
      puts "ðŸ“ Seeding articles..."

      processed = 0
      errors = []

      SAMPLE_ARTICLES.each_with_index do |data, index|
        puts "Processing ##{index + 1}: #{data[:title]}"

        begin
          article = Article.find_or_initialize_by(title: data[:title])
          article.scholar = default_scholar
          article.content = data[:content] if article.content.blank?
          article.published = true
          article.published_at ||= Date.today - index.days

          if article.save
            processed += 1
            assign_to_domain(article, domain_id)
          else
            errors << "Failed to save article: #{data[:title]} â€” #{article.errors.full_messages.join(', ')}"
          end
        rescue => e
          errors << "Exception for '#{data[:title]}': #{e.message}"
        end
      end

      puts "\nâœ… Seeded #{processed} articles"
      if errors.any?
        puts "\nâš ï¸ Completed with #{errors.count} errors:"
        errors.each { |err| puts "  - #{err}" }
      end
    end
  end
end
